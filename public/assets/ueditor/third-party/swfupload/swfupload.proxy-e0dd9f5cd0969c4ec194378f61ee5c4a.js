var SWFUpload;"function"==typeof SWFUpload&&(SWFUpload.proxyDetect={},SWFUpload.UPLOAD_ERROR.PROXY=-30300,SWFUpload.prototype.initSettings=function(t){return function(e){"function"==typeof t&&t.call(this,e),this.ensureDefault=function(t,r){this.settings[t]=void 0==e[t]?r:e[t]},this.proxyDetectFileStartTimes={},this.proxyDetectSettings={},this.ensureDefault("proxy_detect_threshold",256e3),this.proxyDetectSettings.user_upload_progress_handler=this.settings.upload_progress_handler,this.proxyDetectSettings.user_upload_complete_handler=this.settings.upload_complete_handler,this.settings.upload_progress_handler=SWFUpload.proxyDetect.uploadProgressHandler,this.settings.upload_complete_handler=SWFUpload.proxyDetect.uploadCompleteHandler,delete this.ensureDefault}}(SWFUpload.prototype.initSettings),SWFUpload.proxyDetect.uploadProgressHandler=function(t,e,r){var o,s,l,i=null;try{"function"==typeof this.proxyDetectSettings.user_upload_progress_handler&&this.proxyDetectSettings.user_upload_progress_handler.call(this,t,e,r)}catch(i){}if(0===e)this.proxyDetectFileStartTimes[t.ID]=new Date;else if(e===r)try{o=new Date,s=o.getTime()-this.proxyDetectFileStartTimes[t.ID].getTime(),0===s&&(s=1),l=r/(1e3*s),l>parseInt(this.settings.proxy_detect_threshold,10)&&this.queueEvent("upload_error_handler",[t,SWFUpload.UPLOAD_ERROR.PROXY,l])}catch(p){}if(null!==i)throw i},SWFUpload.proxyDetect.uploadCompleteHandler=function(t){try{delete this.proxyDetectFileStartTimes[t.ID]}catch(e){}return"function"==typeof this.proxyDetectSettings.user_upload_progress_handler?this.proxyDetectSettings.user_upload_progress_handler.call(this,t):void 0});